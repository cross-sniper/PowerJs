#+TITLE: mix js engine

* what is mix?
  mix is a simple js engine built with duktape,
  designed for game dev

  it has a module api, with some simple stuff
  just do
#+BEGIN_SRC c++
#include "modular.hpp"
static int <function name>(duk_context* ctx){
  <function code>
  return 0;
}

duk_func fns[] = {
  {"<name>",<name>},
  {NULL, NULL}
};
extern "C" duk_ret_t dukopen_<name>(duk_context* ctx)
{
  registerModule(ctx, "<name>", fns);
  return 1;
}

#+END_SRC
#+BEGIN_SRC javascript
require("<name>")
<name>.<function name>
#+END_SRC
* full example:
#+BEGIN_SRC c++
#include "modular.hpp"
static int example(duk_context* ctx){
  std::cout << "this is a example module" << std::endl;
  return 0;
}

duk_func fns[] = {
  {"example",example},
  {NULL, NULL}
};
extern "C" duk_ret_t dukopen_example(duk_context* ctx)
{
  registerModule(ctx, "example", fns);
  return 1;
}
#+END_SRC
#+BEGIN_SRC javascript
require("example")
example.example()
#+END_SRC
